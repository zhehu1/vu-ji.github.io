# 使用最新的lts版 nodejs
language: node_js
node_js:
- lts/*
# 环境变量：必须在一行空格分开
env:  
- GITHUB_USER=vu-ji
# 默认使用 yarn 安装依赖
install:
- yarn
# 执行脚本
script:
- yarn build
cache: yarn
# 第2行指定部署到Github Pages，即仓库的 gh-pages 分支，请确保仓库的pages分支是 gh-pages
# 第3行指定保留构建后的文件
# 第4行指定每次部署会新增一个提交记录再推送，而不是使用 git push --force
# 第5行指定构建后要部署的目录
# 第6、7行指定 master 分支有提交行为时，将触发构建后部署
# 第8行是部署需要用到的github-token,其中$GITHUB_TOKEN是变量，它可以在Travis CI个人仓库的setting页里设置
deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  local-dir: dist
  on:
    branch: master
  github-token: $GITHUB_TOKEN